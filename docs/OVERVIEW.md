# Storybox Project Overview

**Storybox** is a standalone, screen-based storytelling device designed for children aged 3‚Äì8. It runs a local React application served via an Express backend in kiosk mode on a Raspberry Pi. The application emphasizes offline capability, tactile interaction, and voice-narrated stories, potentially generated by AI.

## üß± Architecture

The project is divided into several main parts:

1.  **`/ui`**: The React frontend responsible for the user interface.
    *   Built with TypeScript and styled with Tailwind CSS.
    *   Runs in kiosk mode on an 800x480 touchscreen.
    *   Handles user interaction, profile setup, story display, and audio playback.
    *   Communicates with the `/server` via a REST API.
    *   Designed for offline-first operation.

2.  **`/server`**: The Express backend acting as the local server (if used, otherwise Firebase handles backend).
    *   Built with TypeScript.
    *   Serves the React `/ui` application.
    *   Provides REST API endpoints (e.g., `/api/profile`, `/api/story`, `/api/settings`).
    *   Manages local data storage (e.g., user profiles, generated stories using JSON or SQLite).
    *   Routes requests requiring cloud interaction (like AI generation or Firestore sync) to `/functions`.

3.  **`/functions`**: Firebase Cloud Functions handling backend logic.
    *   Built with TypeScript.
    *   Handles Firestore database operations (user profiles, stories).
    *   Manages AI story generation requests (e.g., interfacing with OpenAI/Gemini/Claude).
    *   Handles Cloud Storage uploads (avatars, story audio/images).
    *   Returns generated content or sync status back to the `/ui` app (directly or via Firestore listeners).

4.  **`/types`**: Contains shared TypeScript type definitions used across different project parts (`/ui`, `/functions`, `/server`) to ensure consistency.

## üöÄ Key Features

*   **Touchscreen Kiosk UI:** Simple, bold interface optimized for 800x480 resolution.
*   **Onboarding Flow:** First-time setup for user profile (name, age, preferences) and avatar creation.
*   **Story Creation:** User selects preferences, triggers AI generation (via server/functions).
*   **Story Library ("My Stories"):** Locally stored list of generated stories for replay.
*   **Settings:** Parental-gated area for profile editing, volume, reset, etc.
*   **Offline Capability:** Core functionality available without an internet connection.
*   **Local Data Storage:** Profiles and stories saved directly on the device via the `/server`.
*   **Optional Cloud Sync:** Backs up data to Firestore when online.
*   **AI Story Generation:** Leverages cloud functions for dynamic story creation.

## ‚öôÔ∏è Technology Stack

*   **Frontend (`/ui`):** React, TypeScript, Tailwind CSS, Vite (likely)
*   **Backend (`/server`):** Node.js, Express, TypeScript
*   **Cloud (`/functions`):** Firebase Cloud Functions (or similar), TypeScript
*   **Data Storage:** Local JSON/SQLite, Firestore (optional)

---

*This overview is based on the initial project specification.* 